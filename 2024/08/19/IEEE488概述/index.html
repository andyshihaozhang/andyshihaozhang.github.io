<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>IEEE488概述 | Andy‘s Blog</title><meta name="author" content="Andy"><meta name="copyright" content="Andy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="1 - IEEE488简介​	IEEE-488 是一种由惠普公司（现为安捷伦科技及是德科技）在1960年代开发的HP-IB（Hewlett-Packard Interface Bus，惠普接口总线）短程通信总线规范。随后成为了标准，并通称为GP-IB（General Purpose Interface Bus，通用接口总线）。 2 - GPIB总线构成2.1 - GPIB接口示例图  2.2 -">
<meta property="og:type" content="article">
<meta property="og:title" content="IEEE488概述">
<meta property="og:url" content="http://example.com/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/index.html">
<meta property="og:site_name" content="Andy‘s Blog">
<meta property="og:description" content="1 - IEEE488简介​	IEEE-488 是一种由惠普公司（现为安捷伦科技及是德科技）在1960年代开发的HP-IB（Hewlett-Packard Interface Bus，惠普接口总线）短程通信总线规范。随后成为了标准，并通称为GP-IB（General Purpose Interface Bus，通用接口总线）。 2 - GPIB总线构成2.1 - GPIB接口示例图  2.2 -">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/wallPaper3.png">
<meta property="article:published_time" content="2024-08-19T09:46:46.000Z">
<meta property="article:modified_time" content="2024-09-03T00:51:54.762Z">
<meta property="article:author" content="Andy">
<meta property="article:tag" content="通信">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/wallPaper3.png"><link rel="shortcut icon" href="/img/sun.png"><link rel="canonical" href="http://example.com/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'IEEE488概述',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-03 08:51:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css?1"><link rel="stylesheet" href="/css/cursor.css?1"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/wallPaper3.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/transparent_Img.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Andy‘s Blog"><span class="site-name">Andy‘s Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">IEEE488概述</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-19T09:46:46.000Z" title="发表于 2024-08-19 17:46:46">2024-08-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-03T00:51:54.762Z" title="更新于 2024-09-03 08:51:54">2024-09-03</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="IEEE488概述"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-IEEE488简介"><a href="#1-IEEE488简介" class="headerlink" title="1 - IEEE488简介"></a>1 - IEEE488简介</h2><p>​	<strong>IEEE-488</strong> 是一种由<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%83%A0%E6%99%AE%E5%85%AC%E5%8F%B8">惠普公司</a>（现为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%AE%89%E6%8D%B7%E5%80%AB%E7%A7%91%E6%8A%80">安捷伦科技</a>及<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%98%AF%E5%BE%B7%E7%A7%91%E6%8A%80">是德科技</a>）在1960年代开发的HP-IB（<em>Hewlett-Packard Interface Bus</em>，惠普接口总线）短程通信<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%80%BB%E7%BA%BF">总线</a>规范。随后成为了标准，并通称为<strong>GP-IB</strong>（<em>General Purpose Interface Bus</em>，通用接口总线）。</p>
<h2 id="2-GPIB总线构成"><a href="#2-GPIB总线构成" class="headerlink" title="2 - GPIB总线构成"></a>2 - GPIB总线构成</h2><h4 id="2-1-GPIB接口示例图"><a href="#2-1-GPIB接口示例图" class="headerlink" title="2.1 - GPIB接口示例图"></a>2.1 - GPIB接口示例图</h4><img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/IEEE_488_Connector.jpg" class title="IEEE_488_Connector">

<h4 id="2-2-GPIB总线说明"><a href="#2-2-GPIB总线说明" class="headerlink" title="2.2 - GPIB总线说明"></a>2.2 - GPIB总线说明</h4><p><strong>Data Lines</strong></p>
<blockquote>
<p>The eight data lines, DIO1 through DIO8, carry both data and command messages. The state of the Attention (ATN) line determines whether the information is data or commands. All commands and most data use the 7-bit ASCII or ISO code set, in which case the eighth bit, DIO8, is either unused or used for parity.  </p>
</blockquote>
<p><strong>Handshake Lines</strong> </p>
<blockquote>
<p>Three lines asynchronously control the transfer of message bytes between devices. The process is called a 3-wire interlocked handshake. It guarantees that message bytes on the data lines are sent and received without transmission error. </p>
<p><strong>NRFD (not ready for data)</strong> - Indicates when a device is ready or not ready to receive a message byte. The line is driven by all devices when receiving commands, by Listeners when receiving data messages, and by the Talker when enabling the HS488 protocol.  </p>
<p><strong>NDAC (not data accepted)</strong> - Indicates when a device has or has not accepted a message byte. The line is driven by all devices when receiving commands, and by Listeners when receiving data messages.  </p>
<p><strong>DAV (data valid)</strong> - Tells when the signals on the data lines are stable (valid) and can beaccepted safely by devices. The Controller drives DAV when sending commands, and the Talker drives DAV when sending data messages.  </p>
</blockquote>
<p><strong>Interface Management Lines</strong> </p>
<blockquote>
<p>Five lines manage the flow of information across the interface: </p>
<p><strong>ATN (attention)</strong> - The Controller drives ATN true when it uses the data lines to send commands, and drives ATN false when a Talker can send data messages. </p>
<p><strong>IFC (interface clear)</strong> - The System Controller drives the IFC line to initialize the bus and become CIC.  </p>
<p><strong>REN (remote enable)</strong> - The System Controller drives the REN line, which is used to place devices in remote or local program mode.  </p>
<p><strong>SRQ (service request)</strong> - Any device can drive the SRQ line to asynchronously request service from the Controller.  </p>
<p><strong>EOI (end or identify)</strong> - The EOI line has two purposes - The Talker uses the EOI line to mark the end of a message string, and the Controller uses the EOI line to tell devices to identify their response in a parallel poll.</p>
</blockquote>
<h2 id="3-GPIB物理层"><a href="#3-GPIB物理层" class="headerlink" title="3 - GPIB物理层"></a>3 - GPIB物理层</h2><h4 id="3-1-Controllers-Talkers-and-Listeners"><a href="#3-1-Controllers-Talkers-and-Listeners" class="headerlink" title="3.1 - Controllers, Talkers, and Listeners"></a>3.1 - Controllers, Talkers, and Listeners</h4><blockquote>
<ul>
<li><strong>Controllers</strong> govern the flow of information on the bus by issuing Talker and Listener assignments to other devices on the bus. They respond to service requests from instruments, and they can pass control of the bus to other Controllers. There can be only one Controller-In-Charge (CIC or System Controller) per bus, which is responsible for overall management of the bus.</li>
<li><strong>Talkers</strong> place information on the data lines of the bus, but only when a Controller instructs them to do so. Only one device can talk at a time.</li>
<li><strong>Listeners</strong> retrieve information from the data lines of the bus, but only when a Controller instructs them to do so. Any number of devices can listen at the same time.</li>
</ul>
</blockquote>
<p><strong>注意：</strong></p>
<blockquote>
<p>Some devices are capable of playing more than one role. A digital voltmeter, for example, can be a Talker and a Listener. If your system has a National Instruments GPIB interface and software installed, it can function as a Talker, Listener, and Controller.</p>
</blockquote>
<h4 id="3-2-Command-Messages-vs-Data-Messages"><a href="#3-2-Command-Messages-vs-Data-Messages" class="headerlink" title="3.2 - Command Messages vs. Data Messages"></a>3.2 - Command Messages vs. Data Messages</h4><blockquote>
<p>GPIB Controllers use command messages to tell devices (instruments or other Controllers) when they can talk to provide information to the bus and when they can listen to information on the bus. The Talker and Listener assignments are sent as command messages, while the information is passed as data messages.</p>
<p>The major difference between a command message and a data message is the state of the Attention (ATN) line, which is one of the bus management lines. If the ATN line is asserted, any messages sent on the data lines are heard by all devices, and they are understood to be command messages. If the ATN line is not asserted, only the devices that were addressed to listen may receive the messages on the data lines.  </p>
</blockquote>
<h4 id="3-3-The-GPIB-Addressing-Protocol"><a href="#3-3-The-GPIB-Addressing-Protocol" class="headerlink" title="3.3 - The GPIB Addressing Protocol"></a>3.3 - The GPIB Addressing Protocol</h4><img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/GPIBAddressingProtocol.png" class width="1724139754287">

<blockquote>
<p>Bits 0 through 4 indicate the primary address of the device, for which the Talker&#x2F;Listener assignment is intended. If bit 5 is high, the device should listen. If bit 6 is high, the device should talk. Bit 7 is a “don’t care” bit. Its value is ignored, so it is interpreted as a value of zero in command messages.</p>
<p>Each device on the bus must have a unique address. This address consists of a primary address (PAD) and a secondary address (SAD). As you can see from Figure 1, five of the data lines are used to indicate the GPIB primary address. This means that you could have a value from 0 to 31, for a total of 32 (2 to the power of 5) addresses; however, <strong>PAD 31 is never used as a primary address</strong>, because it is used for special command messages. This leaves a total of 31 possible primary addresses. The Controller-In-Charge (CIC) for a bus is almost always at PAD 0, so the instruments on a bus can have primary addresses from 1 to 30. A common mistake in working with the GPIB is assigning the same address to the controller board and the instrument, which will result in an EADR error (addressing error).</p>
<p>The GPIB secondary address is identical in its range of 0 to 30, which allows for a total of 961 (31 x 31) possible GPIB addresses, but the secondary address is very rarely used (the SAD is typically set to zero). Talker&#x2F;Listener assignments are part of the primary addressing information, so with PADs you use either bit 6 or bit 5 when you send a command message. This might prompt you to ask, “How do I send the SAD information?” For secondary addresses, you set both bits 6 and 5 high when you send a command message. If you need to communicate with a device that has a secondary address, you need to indicate its primary address first and then immediately indicate its secondary address.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command codes</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNL  0x3f  <span class="comment">// GPIB unlisten command</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNT  0x5f  <span class="comment">// GPIB untalk command</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GTL  0x01  <span class="comment">// GPIB go to local</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SDC  0x04  <span class="comment">// GPIB selected device clear</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PPC  0x05  <span class="comment">// GPIB parallel poll configure</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET  0x08  <span class="comment">// GPIB group execute trigger</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TCT  0x09  <span class="comment">// GPIB take control</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LLO  0x11  <span class="comment">// GPIB local lock out</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DCL  0x14  <span class="comment">// GPIB device clear</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PPU  0x15  <span class="comment">// GPIB parallel poll unconfigure</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPE  0x18  <span class="comment">// GPIB serial poll enable</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPD  0x19  <span class="comment">// GPIB serial poll disable</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PPE  0x60  <span class="comment">// GPIB parallel poll enable</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PPD  0x70  <span class="comment">// GPIB parallel poll disable</span></span></span><br></pre></td></tr></table></figure>



<h4 id="3-4-Handshake"><a href="#3-4-Handshake" class="headerlink" title="3.4 - Handshake"></a>3.4 - Handshake</h4><img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/gpib%E6%8F%A1%E6%89%8B.png" class width="1724138669001">

<img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/HandShakeandManageMentLines.png" class width="1724142045673">

<h4 id="3-5-Information-transfer"><a href="#3-5-Information-transfer" class="headerlink" title="3.5 - Information transfer"></a>3.5 - Information transfer</h4><img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/%E6%B3%A2%E5%BD%A2%E6%96%87%E4%BB%B6.png" class>

<img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/%E5%86%99%E6%93%8D%E4%BD%9C.png" class>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通信系统初始阶段</span></span><br><span class="line">step <span class="number">1</span> ： Controller send IFC </span><br><span class="line">			初始化GPIB信道，表明自己是Controller（controller in charge）</span><br><span class="line"><span class="comment">// 数据交互阶段</span></span><br><span class="line">step <span class="number">2</span> ： Controller unassert ATN</span><br><span class="line">			表示当前数据线上传输的为控制命令</span><br><span class="line">step <span class="number">3</span> ： Controller send command</span><br><span class="line">			控制器通过发送command来确定总线上的Talker与Listener</span><br><span class="line">step <span class="number">4</span> ： Listener assert NRFD NDAC</span><br><span class="line">			接收方初始化自己状态，先表示自己未准备好</span><br><span class="line">step <span class="number">5</span> ： Listener unassert NRFD</span><br><span class="line">			接收方表示自己准备好接受数据</span><br><span class="line">step <span class="number">6</span> ： Controller assert ATN</span><br><span class="line">			表示当前数据线上传输的为数据信息</span><br><span class="line">step <span class="number">7</span> ： Talker send a Byte message</span><br><span class="line">			发送方监听到接收方准备完成后，发送一字节的数据，ASCII形式（<span class="number">7</span>bit）由<span class="number">8</span>分DIO线发送</span><br><span class="line">step <span class="number">8</span> ： Talker assert DAV</span><br><span class="line">			发送放通过DAV表示数据有效可以接受</span><br><span class="line">step <span class="number">9</span> ： Listener unassert NDAC</span><br><span class="line">			接收方表示数据接受完毕</span><br><span class="line">step <span class="number">10</span> ： Talker unassert DAV</span><br><span class="line">			发送方取消数据有效信号</span><br><span class="line">......(重复step <span class="number">6</span> ~ step <span class="number">9</span>)</span><br><span class="line"><span class="comment">// 交互结束阶段</span></span><br><span class="line">step <span class="number">11</span> ： Talker assert EOI</span><br><span class="line">			发送方数据发送完毕后出发EOI信号表示数据发送完毕</span><br><span class="line">			</span><br></pre></td></tr></table></figure>



<h2 id="4-GPIB驱动层（NI驱动）"><a href="#4-GPIB驱动层（NI驱动）" class="headerlink" title="4 - GPIB驱动层（NI驱动）"></a>4 - GPIB驱动层（NI驱动）</h2><h4 id="4-1-Status"><a href="#4-1-Status" class="headerlink" title="4.1 - Status"></a>4.1 - Status</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// GPIB status bit vector: global variable ibsta and wait mask</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ERR   (1&lt;&lt;15)  <span class="comment">// Error detected</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TIMO  (1&lt;&lt;14)  <span class="comment">// Timeout</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> END   (1&lt;&lt;13)  <span class="comment">// EOI or EOS detected</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SRQI  (1&lt;&lt;12)  <span class="comment">// SRQ detected by CIC</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RQS   (1&lt;&lt;11)  <span class="comment">// Device needs service</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CMPL  (1&lt;&lt;8)   <span class="comment">// I/O completed</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOK   (1&lt;&lt;7)   <span class="comment">// Local lockout state</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> REM   (1&lt;&lt;6)   <span class="comment">// Remote state</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CIC   (1&lt;&lt;5)   <span class="comment">// Controller-in-Charge</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ATN   (1&lt;&lt;4)   <span class="comment">// Attention asserted</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TACS  (1&lt;&lt;3)   <span class="comment">// Talker active</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LACS  (1&lt;&lt;2)   <span class="comment">// Listener active</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DTAS  (1&lt;&lt;1)   <span class="comment">// Device trigger state</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DCAS  (1&lt;&lt;0)   <span class="comment">// Device clear state</span></span></span><br></pre></td></tr></table></figure>



<h4 id="4-2-Error"><a href="#4-2-Error" class="headerlink" title="4.2 - Error"></a>4.2 - Error</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Error messages returned in global variable iberr</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EDVR   0  <span class="comment">// System error</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ECIC   1  <span class="comment">// Function requires GPIB board to be CIC</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ENOL   2  <span class="comment">// Write function detected no Listeners</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EADR   3  <span class="comment">// Interface board not addressed correctly</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EARG   4  <span class="comment">// Invalid argument to function call</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ESAC   5  <span class="comment">// Function requires GPIB board to be SAC</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EABO   6  <span class="comment">// I/O operation aborted</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ENEB   7  <span class="comment">// Non-existent interface board</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EDMA   8  <span class="comment">// Error performing DMA</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EOIP  10  <span class="comment">// I/O operation started before previous operation completed</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ECAP  11  <span class="comment">// No capability for intended operation</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EFSO  12  <span class="comment">// File system operation error</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EBUS  14  <span class="comment">// Command error during device call</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ESTB  15  <span class="comment">// Serial poll status byte lost</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ESRQ  16  <span class="comment">// SRQ remains asserted</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ETAB  20  <span class="comment">// The return buffer is full</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELCK  21  <span class="comment">// Address or board is locked</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EARM  22  <span class="comment">// The ibnotify Callback failed to rearm</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EHDL  23  <span class="comment">// The input handle is invalid</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EWIP  26  <span class="comment">// Wait already in progress on input ud</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ERST  27  <span class="comment">// The event notification was cancelled due to a reset of the interface</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EPWR  28  <span class="comment">// The system or board has lost power or gone to standby</span></span></span><br></pre></td></tr></table></figure>



<h4 id="4-3-EOS-EOI"><a href="#4-3-EOS-EOI" class="headerlink" title="4.3 - EOS&amp;EOI"></a>4.3 - EOS&amp;EOI</h4><blockquote>
<p>GPIB data transfers are terminated either when the GPIB EOI line is asserted with the last byte of a transfer or when a preconfigured end-of-string (EOS) character is transmitted. By default, EOI is asserted with the last byte of writes and the EOS modes are disabled.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// EOS mode bits</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BIN   (1&lt;&lt;12)  <span class="comment">// Eight bit compare</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XEOS  (1&lt;&lt;11)  <span class="comment">// Send END with EOS byte</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> REOS  (1&lt;&lt;10)  <span class="comment">// Terminate read on EOS</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><strong>EOS comparison method</strong>—This indicates whether the EOS byte  has seven or eight significant bits. For a 7-bit EOS byte, the eighth bit of the  EOS byte is ignored.  </li>
<li><strong>EOS write method</strong>—If this is enabled, the GPIB EOI line is  automatically asserted when the EOS byte is written to the GPIB. If the buffer  passed into an  ibwrt call contains five occurrences of  the EOS byte, the EOI line is asserted as each of the five EOS bytes are written  to the GPIB. If an ibwrt buffer does not contain an  occurrence of the EOS byte, the EOI line is not asserted (unless the EOT mode is  enabled, in which case the EOI line is asserted with the last byte of the  write).  </li>
<li><strong>EOS read method</strong>—If this is enabled, ibrd, ibrda, and ibrdf calls are terminated when the EOS byte is detected  on the GPIB, when the GPIB EOI line is asserted, or when the specified count is  reached. If the EOS read method is disabled, ibrd,  ibrda, and ibrdf calls  terminate only when the GPIB EOI line is asserted or the specified count has  been read.</li>
</ul>
</blockquote>
<img src="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/08/19/IEEE488%E6%A6%82%E8%BF%B0/EOI&EOS.png" class width="1724205780470">



<h4 id="4-4-Timeout"><a href="#4-4-Timeout" class="headerlink" title="4.4 - Timeout"></a>4.4 - Timeout</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Timeout values and meanings</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TNONE    0   <span class="comment">// Infinite timeout (disabled)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T10us    1   <span class="comment">// Timeout of 10 us (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T30us    2   <span class="comment">// Timeout of 30 us (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T100us   3   <span class="comment">// Timeout of 100 us (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T300us   4   <span class="comment">// Timeout of 300 us (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T1ms     5   <span class="comment">// Timeout of 1 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T3ms     6   <span class="comment">// Timeout of 3 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T10ms    7   <span class="comment">// Timeout of 10 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T30ms    8   <span class="comment">// Timeout of 30 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T100ms   9   <span class="comment">// Timeout of 100 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T300ms  10   <span class="comment">// Timeout of 300 ms (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T1s     11   <span class="comment">// Timeout of 1 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T3s     12   <span class="comment">// Timeout of 3 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T10s    13   <span class="comment">// Timeout of 10 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T30s    14   <span class="comment">// Timeout of 30 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T100s   15   <span class="comment">// Timeout of 100 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T300s   16   <span class="comment">// Timeout of 300 s (ideal)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> T1000s  17   <span class="comment">// Timeout of 1000 s (ideal)</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>The timeout period is used to select the maximum duration allowed for a synchronous I&#x2F;O operation (for example, ibrd and ibwrt) or for an ibwait or ibnotify operation with TIMO in the wait mask. If the<br>operation does not complete before the timeout period elapses, the operation is aborted and TIMO is returned in Ibsta. The timeout values represent the minimum timeout period. The actual period could be longer</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Andy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/">http://example.com/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Andy‘s Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%80%9A%E4%BF%A1/">通信</a></div><div class="post_share"><div class="social-share" data-image="/img/wallPaper3.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/20/hexo-gitblog%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/" title="hexo+gitblog搭建记录"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">hexo+gitblog搭建记录</div></div></a></div><div class="next-post pull-right"><a href="/2024/08/14/computerMem/" title="存储系统杂谈"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">存储系统杂谈</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Valine</span><span id="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/wallPaper3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Andy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/andyshihaozhang" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:andyshihaozhang@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-IEEE488%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">1 - IEEE488简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-GPIB%E6%80%BB%E7%BA%BF%E6%9E%84%E6%88%90"><span class="toc-number">2.</span> <span class="toc-text">2 - GPIB总线构成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-GPIB%E6%8E%A5%E5%8F%A3%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-number">2.0.1.</span> <span class="toc-text">2.1 - GPIB接口示例图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-GPIB%E6%80%BB%E7%BA%BF%E8%AF%B4%E6%98%8E"><span class="toc-number">2.0.2.</span> <span class="toc-text">2.2 - GPIB总线说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-GPIB%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">3 - GPIB物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Controllers-Talkers-and-Listeners"><span class="toc-number">3.0.1.</span> <span class="toc-text">3.1 - Controllers, Talkers, and Listeners</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Command-Messages-vs-Data-Messages"><span class="toc-number">3.0.2.</span> <span class="toc-text">3.2 - Command Messages vs. Data Messages</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-The-GPIB-Addressing-Protocol"><span class="toc-number">3.0.3.</span> <span class="toc-text">3.3 - The GPIB Addressing Protocol</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-Handshake"><span class="toc-number">3.0.4.</span> <span class="toc-text">3.4 - Handshake</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-Information-transfer"><span class="toc-number">3.0.5.</span> <span class="toc-text">3.5 - Information transfer</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-GPIB%E9%A9%B1%E5%8A%A8%E5%B1%82%EF%BC%88NI%E9%A9%B1%E5%8A%A8%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">4 - GPIB驱动层（NI驱动）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Status"><span class="toc-number">4.0.1.</span> <span class="toc-text">4.1 - Status</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Error"><span class="toc-number">4.0.2.</span> <span class="toc-text">4.2 - Error</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-EOS-EOI"><span class="toc-number">4.0.3.</span> <span class="toc-text">4.3 - EOS&amp;EOI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-Timeout"><span class="toc-number">4.0.4.</span> <span class="toc-text">4.4 - Timeout</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/03/hello-world/" title="Hello World">Hello World</a><time datetime="2024-09-03T00:51:54.785Z" title="发表于 2024-09-03 08:51:54">2024-09-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/20/hexo-gitblog%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/" title="hexo+gitblog搭建记录">hexo+gitblog搭建记录</a><time datetime="2024-08-20T02:16:57.000Z" title="发表于 2024-08-20 10:16:57">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/" title="IEEE488概述">IEEE488概述</a><time datetime="2024-08-19T09:46:46.000Z" title="发表于 2024-08-19 17:46:46">2024-08-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/14/computerMem/" title="存储系统杂谈">存储系统杂谈</a><time datetime="2024-08-14T08:40:20.000Z" title="发表于 2024-08-14 16:40:20">2024-08-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Andy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><script>(() => {
  const disqus_config = function () {
    this.page.url = 'http://example.com/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/'
    this.page.identifier = '/2024/08/19/IEEE488%E6%A6%82%E8%BF%B0/'
    this.page.title = 'IEEE488概述'
  }

  const disqusReset = () => {
    window.DISQUS && window.DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addGlobalFn('themeChange', disqusReset, 'disqus')

  const loadDisqus = () =>{
    if (window.DISQUS) disqusReset()
    else {
      const script = document.createElement('script')
      script.src = 'https://.disqus.com/embed.js'
      script.setAttribute('data-timestamp', +new Date())
      document.head.appendChild(script)
    }
  }

  const getCount = async() => {
    try {
      const eleGroup = document.querySelector('#post-meta .disqus-comment-count')
      if (!eleGroup) return
      const cleanedLinks = eleGroup.href.replace(/#post-comment$/, '')

      const res = await fetch(`https://disqus.com/api/3.0/threads/set.json?forum=&api_key=&thread:link=${cleanedLinks}`,{
        method: 'GET'
      })
      const result = await res.json()

      const count = result.response.length ? result.response[0].posts : 0
      eleGroup.textContent = count
    } catch (err) {
      console.error(err)
    }
  }

  if ('Valine' === 'Disqus' || !true) {
    if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
    else {
      loadDisqus()
      GLOBAL_CONFIG_SITE.isPost && getCount()
    }
  } else {
    window.loadOtherComment = loadDisqus
  }
})()</script></div><script defer src="/js/cursor.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="好好,学习,天天,向上" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>